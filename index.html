<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de archivos y carpetas</title>
</head>
<body>
    <h1>Explorador de Archivos</h1>
    <div id="navegacion"></div>
    <ul id="lista-archivos"></ul>

    <script>
        // Configurar tu usuario y repositorio
        const usuario = "L0wis"; // Tu usuario de GitHub
        const repositorio = "oficialLOwis"; // Nombre del repositorio
        let rutaActual = ""; // Ruta dentro del repositorio

        function cargarContenido(ruta) {
            let url = `https://api.github.com/repos/${usuario}/${repositorio}/contents/${ruta}`;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    let lista = document.getElementById("lista-archivos");
                    let navegacion = document.getElementById("navegacion");

                    // Limpiar contenido anterior
                    lista.innerHTML = "";
                    navegacion.innerHTML = `<button onclick="volver()">‚¨Ö Atr√°s</button> <strong>Ruta: /${ruta}</strong>`;

                    data.forEach(item => {
                        let li = document.createElement("li");
                        
                        if (item.type === "dir") {
                            // Si es una carpeta, permite navegar dentro de ella
                            li.innerHTML = `<a href="#" onclick="cargarContenido('${item.path}')">üìÅ ${item.name}</a>`;
                        } else {
                            // Si es un archivo, permite descargarlo
                            li.innerHTML = `<a href="${item.download_url}" target="_blank">üìÑ ${item.name}</a>`;
                        }

                        lista.appendChild(li);
                    });
                    
                    // Guardar la ruta actual
                    rutaActual = ruta;
                })
                .catch(error => console.error("Error al obtener archivos:", error));
        }

        function volver() {
            if (rutaActual !== "") {
                let partes = rutaActual.split("/");
                partes.pop(); // Quitar la √∫ltima carpeta
                let nuevaRuta = partes.join("/");
                cargarContenido(nuevaRuta);
            }
        }

        // Cargar la ra√≠z del repositorio al inicio
        cargarContenido("");
    </script>
</body>
</html>
